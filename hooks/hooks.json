{
  "description": "Pensieve hooks: SessionStart injects system/user context; Stop enforces Loop continuation via task state",
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash -lc 'root=\"${CLAUDE_PLUGIN_ROOT:-}\"; [[ -n \"$root\" ]] || exit 0; if [[ \"${root:1:1}\" == \":\" && \"${root:0:1}\" =~ [A-Za-z] ]]; then if command -v cygpath >/dev/null 2>&1; then root=\"$(cygpath -u \"$root\")\"; else drive=\"${root:0:1}\"; rest=\"${root:2}\"; rest=\"${rest//\\\\//}\"; drive=\"$(printf \"%s\" \"$drive\" | tr \"A-Z\" \"a-z\")\"; root=\"/$drive$rest\"; fi; fi; exec \"$root/hooks/inject-routes.sh\"'"
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "bash -lc 'root=\"${CLAUDE_PLUGIN_ROOT:-}\"; [[ -n \"$root\" ]] || exit 0; if [[ \"${root:1:1}\" == \":\" && \"${root:0:1}\" =~ [A-Za-z] ]]; then if command -v cygpath >/dev/null 2>&1; then root=\"$(cygpath -u \"$root\")\"; else drive=\"${root:0:1}\"; rest=\"${root:2}\"; rest=\"${rest//\\\\//}\"; drive=\"$(printf \"%s\" \"$drive\" | tr \"A-Z\" \"a-z\")\"; root=\"/$drive$rest\"; fi; fi; exec \"$root/hooks/loop-controller.sh\"'"
          }
        ]
      }
    ]
  }
}
